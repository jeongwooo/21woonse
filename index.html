<!DOCTYPE html>
<html>
        
    <head>

    <title>21년 관상 운세 테스트</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="title" content="관상 운세 테스트">
    <meta name="subject" content="얼굴로 보는 인공지능 강아지상 테스트, 나와 닮은 강아지를 찾아보세요!">
    <meta name="keywords" content="강아지상 테스트, 인공지능 강아지상 테스트, 얼굴상, 얼굴상 테스트, 나와 닮은 강아지, 강아지상 찾기, 얼굴로 보는 강아지, 얼굴 동물, 동물얼굴, animalface, puppyface, 강아지상, AI 얼굴상, AI 강아지상">
    <meta name="author" content="JAY">
    <meta property="og:url" content="https://mypuppyface.netlify.app/">
    <meta property="og:type" content="website" />
    <meta property="og:title" content="강아지상 테스트" />
    <meta property="og:description" content="얼굴로 보는 인공지능 강아지상 테스트, 나와 닮은 강아지를 찾아보세요! 대표 강아지상 연예인 사진 데이터로 학습한 인공지능이 나의 얼굴로 강아지와 특징을 찾아드립니다. 사진 데이터는 그 어디에도 전송되지 않습니다. 강아지상 테스트를 통해 나와 닮은 강아지 찾기를 할 수 있습니다."
    />

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <title>Hello, world!</title>
    <link rel="stylesheet" href="style.css">
    <!-- favicon -->
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <!-- Go to www.addthis.com/dashboard to customize your tools -->
    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5fb12c969acd31ec"></script>


    </head>



    <body>
        
        <!--여기부터 네비바 -->
        <nav class="navbar navbar-expand-lg navbar-light nav-distance">
            <a class="navbar-brand" href="index.html">21년 운세 테스트</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
          
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
              <ul class="navbar-nav mr-auto">
                <!-- <li class="nav-item active">
                  <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#"> </a>
                </li>
                <li class="nav-item dropdown">
                  <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Dropdown
                  </a>
                 
                </li>
                <li class="nav-item">
                  <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Disabled</a>
                </li> -->
              </ul>
              <form class="form-inline my-2 my-lg-0">
                <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
                <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
              </form>
            </div>
          </nav>
          <!--여기까지 네비바 -->

          <section class="section">
            <h1 class="title"> 
                관상으로 보는 내년 운세
            </h1>
            <h2 class="subtitle">
                '21년 나-친구-가족의 운세는 어떻게 될까?
            </h2>
        </section>


   

     <!--아래 정우입력-->
    <script class="jsbin" src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
    <div class="mt-3 container file-upload">

        <div class="image-upload-wrap">
            <input class="file-upload-input" type='file' onchange="readURL(this);" accept="image/*" />
                <div class="drag-text">
                    <img src="upload.svg" class="mt-5 upload">
                    <h3 class="mb-5 pb-4 upload-text">얼굴 사진을 올려놓거나 눌러서 업로드하세요!</h3>
                </div>
        </div>

        <div class="file-upload-content">
            <img class="file-upload-image" id="face-image" src="#" alt="your image" />

                <div id="loading" class="animated bounce">
                    <div class="spinner-border" role="status">
                        <span class="sr-only">Loading...</span>
                    </div>
                    <p class="text-center">AI가 당신의 운세를 분석중입니다.</p>
                </div>

                <p class="result-message"></p>
                <div id="label-container"></div>
                <!-- Go to www.addthis.com/dashboard to customize your tools -->
                <div class="mt-3 addthis_inline_share_toolbox_my1f"></div>

                    <div class="mt-4 image-title-wrap">
                        <button type="button" onclick="removeUpload()" class="remove-image">다른 사진으로 재시도</button>
                    </div>
        </div>
    </div>        

    <!--광고자리-->

    <div class="ad-banner">
        <ins class="kakao_ad_area" style="display:none;" 
        data-ad-unit    = "DAN-9zCgovUqaXv9ZDYC" 
        data-ad-width   = "300" 
        data-ad-height  = "250"></ins> 
        <script type="text/javascript" src="//t1.daumcdn.net/kas/static/ba.min.js" async></script>
    </div>

    <div class="ad-banner2">
        <ins class="kakao_ad_area" style="display:none;" 
        data-ad-unit    = "DAN-D7OUrvXrglYjrdoU" 
        data-ad-width   = "320" 
        data-ad-height  = "100"></ins> 
        <script type="text/javascript" src="//t1.daumcdn.net/kas/static/ba.min.js" async></script>
    </div>
    <!--/광고자리-->

    <footer class="footer pt-5 container d-flex justify-content-center">
    <div>
        <p>&copy; jay 2020. All Rights Reserved. </p>
    </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>

    <!--위 정우입력-->

    <!--teachable machin start-->
    <!-- <div>Teachable Machine Image Model</div> -->
    
    <div id="label-container"></div>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@0.8/dist/teachablemachine-image.min.js"></script>
    <!--아래정우-->
    <script>function readURL(input) {
        if (input.files && input.files[0]) {
      
          var reader = new FileReader();
      
          reader.onload = function(e) {
            $('.image-upload-wrap').hide();
            $('.file-upload-image').attr('src', e.target.result);
            $('.file-upload-content').show();
            $('.image-title').html(input.files[0].name);
          };
      
          reader.readAsDataURL(input.files[0]);
          init().then(()=>{
              console.log("hello");
              predict();
          });
                   
        } else {
          removeUpload();
        }
      }
      
      function removeUpload() {
        $('.file-upload-input').replaceWith($('.file-upload-input').clone());
        $('.file-upload-content').hide();
        $('.image-upload-wrap').show();
      }
      $('.image-upload-wrap').bind('dragover', function () {
              $('.image-upload-wrap').addClass('image-dropping');
          });
          $('.image-upload-wrap').bind('dragleave', function () {
              $('.image-upload-wrap').removeClass('image-dropping');
      });
      </script>
        <!--위정우-->

    
    
    <script type="text/javascript">
       
       const URL = "https://teachablemachine.withgoogle.com/models/Ppuhd73E_/";

        let model, webcam, labelContainer, maxPredictions;

        // Load the image model and setup the webcam
        async function init() {
            const modelURL = URL + "model.json";
            const metadataURL = URL + "metadata.json";

            
            model = await tmImage.load(modelURL, metadataURL);
            maxPredictions = model.getTotalClasses();
                        labelContainer = document.getElementById("label-container");
            for (let i = 0; i < maxPredictions; i++) { // and class labels
                labelContainer.appendChild(document.createElement("div"));
            }
        }

        // async function loop() {
        //     webcam.update(); // update the webcam frame
        //     await predict();
        //     window.requestAnimationFrame(loop);
        // }

        // run the webcam image through the image model
        async function predict() {
            // predict can take in an image, video or canvas html element
            var image =  document.getElementById("face-image")
            const prediction = await model.predict(image, false);
            prediction.sort((a,b) => parseFloat(b.probability) - parseFloat(a.probability)) 
            console.log(prediction[0].className);
            var resultTitle, resultExplain, resultCeleb;
            
            
// var resultMsg

                switch(prediction[0].className) {
                    case "grade":
                        resultTitle = "학업,성적운"
                        resultExplain = "내년엔 학업,성적운이 가장 강하네요!  입시, 시험을 앞둔 당신에게는 부족한 시간 대비 많은 것을 공부할 수 있는 해입니다. 당신이 가고자 하는 대학이나 자격증 시험에 긍정적인 결과가 나올거에요. 여러 가지 부담과 스트레스가 있는 당신에게 내년엔 기쁜 소식이 들립니다. 아직 늦은 것은 아무것도 없습니다. ‘안되겠다’ 포기하고 ‘이럴 바에는 다른 영역을 더 공부하자’ 단념하는 마음자세보다는 약한 부분을 더 노력하고 이겨나가려는 당신의 노력이 당신에게 만족스러운 결과를 안겨줄 것입니다."
                        resultCeleb = "내년엔 : '자격증 취득 성공', '수능 만점'"
                        break;
                    case "health":
                        resultTitle = "건강운"
                        resultExplain = "내년엔 건강운이 가장 강하네요! 올해보다 더 건강한 몸과 마음을 갖을 수 있는 해입니다. 자녀 계획이 있다면 내년은 가장 적합할 것 같네요. 운동을 하지 않았던 분이라면 내년에 시작하면 몸짱으로 쉽게 거듭날거에요. 흡연자라면 내년엔 금연을 시도해 보시는건 어떨까요? 올해보다는 쉽게 성공하실 거에요. 올해는 실패한 다이어트도 내년엔 성공할 것 같네요!"
                        resultCeleb = "내년엔 :  '2세 계획 도전', '금연 성공', '다이어트 성공'"                    
                        break;
                    case "love":
                        resultTitle = "연애운"
                        resultExplain = "내년엔 연애운이 가장 강하네요! 평소에 익숙했던 곳이나 일에서 사랑을 찾을 수 있는 날이라 해야 하겠습니다. 어떠한 식으로든 만남의 기회가 주어지면 능동적으로 만나 보는 것이 좋겠군요. 사랑이 당신에게 다가와 당신의 하루를 풍요롭게 만들어 줄 것이고 이러한 행복은 오랜 시간 동안 이어질 것입니다."
                        resultCeleb = "내년엔 :  '차은우 같은 남친', '한예슬 같은 여친'"                    
                        break;
                    case "money":
                        resultTitle = "재물운"
                        resultExplain = "내년엔 재물운이 가장 강하네요! 당신의 주위에서 맴돌던 재물이 드디어 당신의 곁으로 모여드는 날이 될 것으로 보입니다. 이런 저런 행운이 함께 하니 자신감을 가져도 좋습니다. 재물을 더 얻게 되는 해이므로 기대해 볼만 하겠습니다. 투자나 매매를 하기 좋은 해이고 자신의 직감과 소신을 따르면 행운을 극대화 할 수 있습니다. 로또 복권을 구매해도 좋겠네요."
                        resultCeleb = "내년엔 : '상한가', '연금복권/로또 1등 예상', '집값 오른다'"                    
                        break;
                    case "work":
                        resultTitle = "일,직장운"
                        resultExplain = "내년엔 사업,일운이 가장 강하네요! 지금 현재, 직장을 구하거나 옮기려고 하고 계신 분의 경우에는 새로운 직장을 소개 받을 수 있을 것으로 보이는 내년이라고 하겠습니다. 인내심을 갖는다면 좋은 직장을 얻거나 이직할 수 있을 것 같아요. 승진대상이시면 어려움 없이 승진 성공! 취준생이라면 내년 하반기에 입사예정!"
                        resultCeleb = "내년엔 : '취업성공', '이직성공', '승진성공'"
                        break;    
                    default:
                        resultTitle = "알수없음"
                        resultExplain = ""
                        resultCeleb = ""        }               
                // $('.result-message').html(resultMsg)

                var title = "<div class='" + prediction[0].className + "-animal-title'>" + resultTitle + "</div>"
                var explain = "<div class='animal-explain pt-2'>" + resultExplain + "</div>"
                var celeb = "<div class='" + prediction[0].className + "-animal-celeb pt-2 pb-2'>" + resultCeleb + "</div>"
                $('.result-message').html(title + explain + celeb);
                var barWidth;

            for (let i = 0; i < maxPredictions; i++) {
                if (prediction[i].probability.toFixed(2) > 0.1) {
                    barWidth = Math.round(prediction[i].probability.toFixed(2) * 100) + "%";
                } else if (prediction[i].probability.toFixed(2) >= 0.01) {
                    barWidth = "4%"
                } else {
                    barWidth = "2%"
                }
                var labelTitle;
                switch (prediction[i].className) {
                    case "grade":
                        labelTitle = "학업,성적운"
                        break;
                    case "health":
                        labelTitle = "건강운"
                        break;
                    case "love":
                        labelTitle = "연애운"
                        break;
                    case "money":
                        labelTitle = "재물운"
                        break;
                    case "work":
                        labelTitle = "일,직장운"
                        break;
                  
                    default:
                        labelTitle = "알수없음" }
               

                // const classPrediction =
                //     prediction[i].className + ": " + prediction[i].probability.toFixed(2);
                
                var label = "<div class='animal-label d-flex align-items-center'>" + labelTitle + "</div>"
                var bar = "<div class='bar-container position-relative container'><div class='" + prediction[i].className + "-box'></div><div class='d-flex justify-content-center align-items-center " + prediction[i].className + "-bar' style='width: " + barWidth + "'><span class='d-block percent-text'>" + Math.round(prediction[i].probability.toFixed(2) * 100) + "%</span></div></div>"
                labelContainer.childNodes[i].innerHTML = label + bar;
                }
            }
        
    //     async function predict() {
    //     // predict can take in an image, video or canvas html element
    //     const prediction = await model.predict(webcam.canvas);
    //     for (let i = 0; i < maxPredictions; i++) {
    //         const classPrediction =
    //             prediction[i].className + ": " + prediction[i].probability.toFixed(2);
    //         labelContainer.childNodes[i].innerHTML = classPrediction;
    //     }
    // }


    </script>
    
    </body>

</html>



